<app-navbar> </app-navbar>

<div class="container pt-100 mb-5">
  <div *ngIf="orderSent" class="m-2 text-center">
    <h2>Thanks for shopping</h2>
    <p>
      Your order saved
    </p>
    <button
      [routerLink]="['/shop']"
      routerLinkActive="router-link-active"
      class="btn btn-primary"
    >
      Continue shopping
    </button>
  </div>
  <form
    *ngIf="!orderSent"
    #form="ngForm"
    (ngSubmit)="submitOrder(form)"
    class="m-4"
  >
    <div class="form-group">
      <label>Name</label>
      <input 
        type="text"
        class="form-control"
        #name="ngModel" name="name"
        [(ngModel)]="order.name"
        required
      />
      <span *ngIf="submitted && name.invalid" class="text-danger">
        Please write name.
      </span>
    </div>
    <div class="form-group">
      <label>Address</label>
      <input
        type="text"
        class="form-control"
        #address="ngModel" name="address"
        [(ngModel)]="order.address"
        required
      />
      <span *ngIf="submitted && address.invalid" class="text-danger">
        Please write address.
      </span>
    </div>
    <div class="form-group">
      <label>City</label>
      <input
        type="text"
        class="form-control"
        #city="ngModel" name="city"
        [(ngModel)]="order.city"
        required
      />
      <span *ngIf="submitted && city.invalid" class="text-danger">
        Please write city.
      </span>
    </div>
    <div class="form-group">
      <label>Phone</label>
      <input
        type="text"
        class="form-control"
        #phone="ngModel" name="phone"
        [(ngModel)]="order.phone"
        required
      />
      <span *ngIf="submitted && phone.invalid" class="text-danger">
        Please write phone number.
      </span>
    </div>
    <div class="form-group">
      <label>Email</label>
      <input
        type="text"
        class="form-control"
        #email="ngModel" name="email"
        [(ngModel)]="order.email"
        required
      />
      <span *ngIf="submitted && email.invalid" class="text-danger">
        Please write email.
      </span>
    </div>
    <div class="text-center">
      <button type="submit" class="btn btn-primary">Complete Order</button>
      <button
        type="submit"
        [routerLink]="['/shop']"
        routerLinkActive="router-link-active"
        class="btn btn-primary ml-2"
      >
        Continue Shopping
      </button>
    </div>
  </form>
</div>
